<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Intervall</title>
  <style>
    body { background: #001F4E; color: white; font-family: sans-serif; text-align: center; padding: 2rem; }
    h1 { color: #FFD700; }
    table { margin: auto; background: white; color: black; border-collapse: collapse; width: 90%; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; }
    .active { background: #C80000; color: white; font-weight: bold; }
    button { background: #C80000; color: white; padding: 0.8rem 2rem; margin: 1rem; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; }
    a { color: #FFD700; text-decoration: none; }
  </style>
</head>
<body>
  <h1>Intervall</h1>
  <p>Intervalltraining mit 8 × (15s Sprint + 15s Pause)</p>
  <table id="phaseTable">
    <thead><tr><th>Phase</th><th>Dauer (s)</th><th>Beschreibung</th><th>RPM</th><th>% HFmax</th></tr></thead>
    <tbody id="tbody"></tbody>
  </table>
  <p id="status">Bereit</p>
  <p id="timer">0</p>
  <button onclick="startWorkout()">Start</button>
  <button onclick="stopWorkout()">Pause</button>
  <button onclick="resetWorkout()">Reset</button><br/>
  <a href="index.html">Zurück</a>

<script>
const phases = [
  { name: "Aufwärmen", duration: 300, desc: "5 Min. Leichter Widerstand steigernd", rpm: "70-80", hf: "50-60" },
  // 8x Intervall und Pause
  { name: "Intervall 1", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 1", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Intervall 2", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 2", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Intervall 3", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 3", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Intervall 4", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 4", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Intervall 5", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 5", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Intervall 6", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 6", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Intervall 7", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 7", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Intervall 8", duration: 15, desc: "15 Sek. sehr hart", rpm: "100-110", hf: "85-100" },
  { name: "Pause 8", duration: 15, desc: "15 Sek. Sehr locker", rpm: "60-70", hf: "50-60" },
  { name: "Cool-Down", duration: 600, desc: "10 Min. Locker fahren, niedriger Widerstand", rpm: "60", hf: "40-50" }
];

let currentPhase = -1;
let countdown = 3;
let timeLeft = 0;
let timerId = null;

const table = document.getElementById("tbody");
phases.forEach((p, i) => {
  const row = document.createElement("tr");
  row.id = "phaseRow" + i;
  row.innerHTML = `<td>${p.name}</td><td>${p.duration}</td><td>${p.desc}</td><td>${p.rpm}</td><td>${p.hf}</td>`;
  table.appendChild(row);
});

function highlightPhase(index) {
  phases.forEach((_, i) => {
    document.getElementById("phaseRow" + i).className = i === index ? "active" : "";
  });
}

function startWorkout() {
  if (timerId) return;
  if (currentPhase === -1) {
    currentPhase = 0;
    timeLeft = countdown;
    document.getElementById("status").innerText = "Bereit? In 3 Sekunden geht's los...";
    highlightPhase(currentPhase);
  }
  timerId = setInterval(() => {
    document.getElementById("timer").innerText = timeLeft + " Sekunden";
    if (timeLeft > 0) {
      timeLeft--;
    } else {
      if (countdown > 0) {
        countdown = 0;
        timeLeft = phases[currentPhase].duration;
        document.getElementById("status").innerText = "Aktiv: " + phases[currentPhase].name;
      } else {
        clearInterval(timerId);
        timerId = null;
        currentPhase++;
        countdown = 3;
        if (currentPhase < phases.length) {
          highlightPhase(currentPhase);
          timeLeft = countdown;
          document.getElementById("status").innerText = "Nächste Phase in 3 Sekunden...";
          startWorkout();
        } else {
          document.getElementById("status").innerText = "Training abgeschlossen!";
          document.getElementById("timer").innerText = "0";
          highlightPhase(-1);
        }
      }
    }
  }, 1000);
}

function stopWorkout() {
  clearInterval(timerId);
  timerId = null;
}

function resetWorkout() {
  stopWorkout();
  currentPhase = -1;
  countdown = 3;
  timeLeft = 0;
  document.getElementById("status").innerText = "Bereit";
  document.getElementById("timer").innerText = "0";
  highlightPhase(-1);
}
</script>
</body>
</html>